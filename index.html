<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
  <meta name="keywords" content="iracing, project cars, pcars, fuel calculator, online, tool, utility, simple">
  <meta name="description" content="A quick and simple Fueld Calculator for Sim Racing.  Calcuate fuel required for both Lap counted and time limited sessions">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="HandheldFriendly" content="true">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TT2DTMR');</script>
<!-- End Google Tag Manager -->

      <!-- HEAP analytics -->
<script type="text/javascript">
    window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
      heap.load("2890639018");
</script>

  <title>Fuel Calculator</title>
  <script src="js/vendor.bundle.js"></script>
  <script src="js/app.bundle.js"></script>

  <link rel="stylesheet" type="text/css" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
  <link rel="styleSheet" href="node_modules/angular-ui-grid/ui-grid.min.css"/>


<style type="text/css">
    body {
        background: url("fuel.png");
        //background-size: cover;
    }

    .jumbotron {
        background-color: transparent;
    }
    .container-fluid {
        background-color:   rgba(238, 238, 238, .7);

    }

    .vertical-center {
        min-height: 100%;  /* Fallback for browsers do NOT support vh unit */
        min-height: 100vh; /* These two lines are counted as one :-)       */

        display: flex;
        align-items: center;
    }

    .form-group > label {
        /*white-space: nowrap;*/
    }

    .nav-tabs {
        margin-bottom: 10px;
    }

    .gridStyle {
      border: 1px solid rgb(212,212,212);
      width: 400px;
      height: 300px
    }

    .myGrid {
      width: 500px;
      height: 100px;
    }
</style>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-96339081-1', 'auto');
  ga('send', 'pageview');

</script>

<body ng-app="CalcApp">

    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TT2DTMR"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<div class="jumbotron vertical-center">

    <div class="container-fluid" ng-controller="CalcCtrl">

        <h2>Fuel Calculator</h2>
        <small>
            Quickly determine how much fuel you need
        </small>
        <div class="panel panel-default">
            <div class="panel-body">

                <form class="form-horizontal" name="fuelCalculatorForm" novalidate angular-validator>
                    <ul class="nav nav-tabs">
                        <li role="presentation" ng-class="{active: byTimePresentation}"><a id="byTimeTab" ng-click="changeCalculationMode(true)">Time</a></li>
                        <li role="presentation" ng-class="{active: !byTimePresentation}"><a id="byLapTab" ng-click="changeCalculationMode(false)">Lap</a></li>
                    </ul>
                    <div class="form-group">
                      <label class="col-sm-4 control-label">Tank Size</label>
                      <div class="col-sm-4">
                        <input class="form-control" name="maximumFuel" type="number" ng-model="fuelTank.maximumFuel" placeholder="Maximum Tank Size" ng-change="recalculateLapData()">
                      </div>
                      <div class="col-sm-4">
                        <input class="form-control" name="minimumFuel" type="number" ng-model="fuelTank.minimumFuel"
                               placeholder="Minimum fuel" ng-change="recalculateLapData()" required>
                      </div>
                  </div>
                  <div class="form-group">
                    <label class="col-sm-4 control-label">Fuel consumption / lap</label>
                    <div class="col-sm-8">
                      <input class="form-control" id="consumption" type="number" name="consumption" ng-model="fuelTank.consumption"
                             ng-change="recalculateLapData()"
                             placeholder="Liters, Gallons, Kgs, etc">
                    </div>
                  </div>


                    <div class="form-group" ng-show="!byTimePresentation">
                        <label class="col-sm-4 control-label">Laps</label>
                        <div class="col-sm-8">
                            <input class="form-control" name="numberOfLaps" type="number" ng-model="numberOfLaps" placeholder="Number Of Laps" ng-change="recalculateLapData()">
                        </div>
                    </div>
                    <div class="form-group" ng-show="byTimePresentation">
                        <label class="col-sm-4 control-label">Session Time</label>
                        <div class="col-sm-8">
                            <input class="form-control" name="sessionTimeMinutes" type="number" ng-model="sessiontimeminutes" placeholder="Session time">
                        </div>
                    </div>
                    <div class="form-group" ng-show="byTimePresentation">
                        <label class="col-sm-4 control-label">Lap Time</label>
                        <div class="col-sm-8">
                            <input class="form-control" type="text" name="laptime" ng-model="laptime" placeholder="Laptime in mm:ss.SSS" validator="lapTimeValidator(laptime) === true"
                                   ng-change="recalculateLapData()"
                                   invalid-message="'That is not a real laptime'"
                                   required-message="'Yo this is required'"
                                   validate-on="dirty" required>
                        </div>
                    </div>
                    <div class="form-group" ng-show="byTimePresentation">
                        <div class="col-sm-12">
                            <small>Lap duration in seconds {{laptimeInSeconds}}</small>
                        </div>
                </div>
              </form>
            </div>
            <div class="panel-footer" ng-show="validData()">
                <p class="lead">You need {{fuelneededinsession() | number : 3}} units of fuel</p>
                <p><small>Your race should be {{lapsinsession() | number}} laps</small></p>
            </div>
          <div class="panel-footer" ng-show="validData()">
            <div class="myGrid" id="pitStopGrid" ui-grid="gridOptions1"></div>
          </div>
          <div id="lapChart" class="panel-footer" ng-show="validData()">
            <canvas id="line" class="chart chart-line" chart-data="chart.data"
                    chart-labels="chart.labels" chart-series="chart.series" chart-options="chart.options"
                    chart-colors="chart.colors"
                    chart-dataset-override="chart.datasetOverride" >
            </canvas>
          </div>
        </div>
        I'd love your feedback.
        <br>
        Email me @ <a mailto="twobigpaws@gmail.com">twobigpaws@gmail.com</a>.

        <div>
            Contribute to this project on <a ng-href="https://github.com/TwoBigPaws/FuelCalculator{{hash}}">GitHub<a/>
        </div>
    </div>
    <div>
</body>
</html>
